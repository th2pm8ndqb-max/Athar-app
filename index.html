import datetime

class AtharApp:
    def __init__(self, user_name):
        self.user_name = user_name
        self.wallet_balance = 1000  # ููุฒุงููุฉ ุงูุชุฑุงุถูุฉ
        self.total_points = 0
        self.history = []
        self.challenges = [
            {"name": "ุฃุณุจูุน ุจูุง ููุงููุงุช", "target": 7, "progress": 0, "active": True},
            {"name": "ุฏุนู ุงูููุชุฌ ุงููุญูู", "target": 3, "progress": 0, "active": True}
        ]

    def add_transaction(self, amount, category, necessity, is_local, is_eco):
        """
        1. ุฅุฏุฎุงู ุงููุตุฑูู ูุชุญููู ุงูุฃุซุฑ ุงูุซูุงุซู
        necessity: 1 (ููุงูู), 2 (ูุชูุณุท), 3 (ุถุฑูุฑู)
        """
        # ุญุณุงุจ ุงูููุงุท ุจูุงุกู ุนูู ุงููุนุงููุฑ ุงูุซูุงุซุฉ
        impact_score = 0
        impact_score += (necessity * 2)  # ุงูุฃุซุฑ ุงููุงูู
        if is_local: impact_score += 5   # ุงูุฃุซุฑ ุงูุงุฌุชูุงุนู
        if is_eco: impact_score += 5     # ุงูุฃุซุฑ ุงูุจูุฆู

        # ุชุญุฏูุฏ ููู ุงููุคุดุฑ
        if impact_score >= 12:
            status, color = "ุฃุซุฑ ุนุงูู (ูุงุนู ููุณุชุฏุงู)", "๐ข"
            self.total_points += 10
        elif impact_score >= 7:
            status, color = "ุฃุซุฑ ูุชูุณุท (ูุญุชุงุฌ ูุฑุงุฌุนุฉ)", "๐ก"
            self.total_points += 5
        else:
            status, color = "ุฃุซุฑ ููุฎูุถ (ุบูุฑ ุถุฑูุฑู)", "๐ด"
            self.total_points += 0

        # ุชุณุฌูู ุงูุนูููุฉ
        entry = {
            "date": datetime.date.today(),
            "amount": amount,
            "category": category,
            "impact": status,
            "color": color
        }
        self.history.append(entry)
        self.wallet_balance -= amount
        
        return entry

    def smart_suggestion(self, amount, category):
        """
        2. ุงูุงูุชุฑุงุญ ุงูุฐูู (ูุณุชุดุงุฑ ุงููุฑุงุฑ ุงููุงูู)
        """
        print(f"\n๐ก [ูุตูุญุฉ ุฃุซุฑ]: ูุงุญุธูุง ุตุฑู {amount} ุฑูุงู ุนูู {category}.")
        if amount > 20 and category == "ูููุฉ":
            saving = amount * 0.7
            print(f"-> ูู ุฃุนุฏุฏุช ูููุชู ูู ุงูููุฒูุ ุณุชููุฑ ุดูุฑูุงู ุญูุงูู {saving * 30} ุฑูุงู!")
            print(f"-> ูู ููุฑุช ูู ุงุณุชุฎุฏุงู ููุจ ูุงุจู ูุฅุนุงุฏุฉ ุงูุงุณุชุฎุฏุงูุ ๐ฑ")

    def what_if_scenario(self, amount, times_per_week):
        """
        3. ุณููุงุฑูููุงุช ุฐููุฉ (What If)
        """
        monthly_cost = amount * times_per_week * 4
        yearly_cost = monthly_cost * 12
        print(f"\n๐ [ุณููุงุฑูู ูุงุฐุง ูู]:")
        print(f"- ุตุฑู {amount} ุฑูุงู ูู {times_per_week} ูุฑุงุช ุฃุณุจูุนูุงู")
        print(f"- ุณููููู {monthly_cost} ุฑูุงู ุดูุฑูุงู ู {yearly_cost} ุฑูุงู ุณูููุงู!")
        print(f"- ุชูููู ุงูุชูุฑุงุฑ ูููุตู ูููุฑ ูู {yearly_cost / 2} ุฑูุงู ุณูููุงู ๐ฐ")

    def display_impact_footprint(self):
        """
        4. ุจุตูุฉ ุงูุฃุซุฑ ุงูุดุฎุตู ูุงูุชูุงุฑูุฑ
        """
        print(f"\n" + "="*30)
        print(f"๐ค ูุณุชุฎุฏู ุฃุซุฑ: {self.user_name}")
        print(f"๐ฐ ุงูุฑุตูุฏ ุงููุชุจูู: {self.wallet_balance} ุฑูุงู")
        print(f"๐ ุฅุฌูุงูู ููุงุท ุงูุฃุซุฑ: {self.total_points}")
        print("-" * 30)
        print("๐ ุณุฌู ุงูุนูููุงุช ุงูุฃุฎูุฑุฉ:")
        for item in self.history:
            print(f"{item['color']} {item['amount']} ุฑูุงู - {item['category']} ({item['impact']})")
        print("="*30)

# --- ุชุดุบูู ุชุฌุฑูุจู ูููุธุงู ---

# 1. ุฅูุดุงุก ุญุณุงุจ ููุทุงูุจ
student_app = AtharApp("ุฃุญูุฏ")

# 2. ุฅุฏุฎุงู ูุตุฑูู (ูุซุงู ุงููููุฉ ุงูููููุฉ)
# ุงููุจูุบ: 30ุ ููุน: ูููุฉุ ุถุฑูุฑุฉ: 1 (ููุงูู)ุ ูุญูู: ูุงุ ุตุฏูู ููุจูุฆุฉ: ูุง
print("--- ุนูููุฉ ุดุฑุงุก ูููุฉ ุฎุงุฑุฌูุฉ ---")
res = student_app.add_transaction(30, "ูููุฉ", 1, False, False)
print(f"ุงููุชูุฌุฉ: {res['color']} {res['impact']}")

# 3. ุชูุนูู ุงููุณุชุดุงุฑ ุงูุฐูู
student_app.smart_suggestion(30, "ูููุฉ")

# 4. ุฅุฏุฎุงู ูุตุฑูู (ูุซุงู ุดุฑุงุก ูุชุงุจ ูู ูุชุฌุฑ ูุญูู)
# ุงููุจูุบ: 50ุ ููุน: ุชุนูููุ ุถุฑูุฑุฉ: 3 (ุถุฑูุฑู)ุ ูุญูู: ูุนูุ ุตุฏูู ููุจูุฆุฉ: ูุนู
print("\n--- ุนูููุฉ ุดุฑุงุก ูุชุงุจ ูู ูุชุฌุฑ ูุญูู ---")
res2 = student_app.add_transaction(50, "ูุชุจ", 3, True, True)
print(f"ุงููุชูุฌุฉ: {res2['color']} {res2['impact']}")

# 5. ุนุฑุถ ุณููุงุฑูู ูุณุชูุจูู
student_app.what_if_scenario(30, 7)

# 6. ุนุฑุถ ุจุตูุฉ ุงูุฃุซุฑ ุงูููุงุฆูุฉ
student_app.display_impact_footprint()
